{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/style.css' %}"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css"
      integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls"
      crossorigin="anonymous"
    />

    <title>Wacky Widgets</title>
  </head>
  <body>
    <h1>Wacky Widgets</h1>

    {% if widget_list|length == 0 %}
    <h3>No Widgets Exist</h3>
    {% else %}
    <table class="widget-table">
      <thead>
        <tr>
          <th scope="col">Description</th>
          <th scope="col">Quantity</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for widget in widget_list%}
        <tr>
          <td>{{widget.description}}</td>
          <td>{{widget.quantity}}</td>
          <td><a href="/delete/{{widget.id}}">X</a></td>
        </tr>
        {% endfor %}
        <tr>
          <td>Total Quantity</td>
          <td>{{ sum }}</td>
          <td></td>
        </tr>
      </tbody>
    </table>
    {% endif %}

    <h4>Add Widget</h4>

    <form action="/create/" method="post">
      {% csrf_token %}
      <label for="">Description: </label
      ><input type="text" name="description" size="40" /><br /><br />
      <label for="">Quantity: </label
      ><input type="number" name="quantity" /><br /><br />
      <button type="submit" class="btn">ADD WIDGET</button>
    </form>
  </body>
</html>
